type User {
  id: ID! @id,
  isAdmin: Boolean! @default(value: false),
  email: String! @unique,
  password: String!,
  tasks: [Task],
  notifications: [TaskNotification],
  preference: Preference @relation(name: "UserPreference", onDelete: CASCADE, link: TABLE)
}

type Task {
  id: ID! @id,
  author: User,
  approved: Boolean,
  number: Int! @unique,
  command: String!,
  frequency: Int!,
  period: String!,
  executions: [Execution!] @relation(name: "TaskExecution", onDelete: CASCADE, link: TABLE),
  notifications: [TaskNotification]
}

type Execution {
  id: ID! @id,
  task: Task! @relation(name: "TaskExecution", onDelete: SET_NULL),
  datetime: Int!
}

type TaskNotification {
  id: ID! @id,
  user: User,
  task: Task
}

type Preference {
  id: ID! @id,
  forUser: User! @relation(name: "UserPreference", onDelete: SET_NULL) @unique,
  executionThresholdIdeal: String,
  executionThresholdAbsolute: String
}